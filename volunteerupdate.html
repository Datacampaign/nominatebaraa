<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Volunteer Shoutouts | Nominate Baraa</title>

  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      background: #ffffff;
      color: #333;
    }
    nav {
      background: #002366;
      color: white;
      padding: 15px 0;
      text-align: center;
    }
    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
    }
    nav::after {
      content: " ‚Äî Page under construction, launching July 8";
      display: block;
      font-weight: normal;
      font-size: 0.9rem;
      margin-top: 10px;
    }
    main {
      max-width: 900px;
      margin: 0 auto;
      padding: 2rem 1rem;
    }
    h1, h2, h3 {
      text-align: center;
    }
    h3 {
      margin-top: 2rem;
    }
    p {
      margin-bottom: 1.5rem;
    }
    ul {
      margin: 0 0 1.5rem 1.25rem;
    }
    strong {
      font-weight: bold;
    }
    .highlight {
      background-color: #4169E1;
      color: white;
      padding: 1.5rem;
      border-radius: 6px;
    }
    .yt-note {
      text-align: center;
      margin-top: 3rem;
    }
    .yt-note img {
      width: 120px;
      display: block;
      margin: 0.5rem auto;
    }
    #shoutouts {
      max-width: 600px;
      margin: 40px auto;
      padding: 20px;
      border-radius: 10px;
    }
    .shoutout {
      background-color: #f5faff;
      border: 1px solid #cce0f5;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 8px;
      line-height: 1.5;
    }
    button {
      background: #002366;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover {
      background: #0046b8;
    }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
      box-sizing: border-box;
    }
  </style>
</head>
<body>
<nav>
    <a href="#">Home</a>
    <a href="https://meryemdaata.github.io/nominate-baraa-public/awards.html">Awards</a>
    <a href="https://meryemdaata.github.io/nominate-baraa-public/volunteers.html">Volunteers</a>
    <a href="#">Acknowledgements</a>
    <a href="https://meryemdaata.github.io/nominate-baraa-public/volunteerupdate.html">Volunteer Shoutouts</a>
    <a href="https://meryemdaata.github.io/nominate-baraa-public/communication.html">Communication</a>
  </nav>

  <h1>Volunteer Shoutouts</h1>

  <p style="text-align:center; max-width: 600px; margin: 10px auto 30px; font-size: 1.1rem; color: #333;">
    üìù This is where volunteers share short status updates with the community ‚Äî what‚Äôs been done, what‚Äôs submitted, what‚Äôs in progress. 
    Let‚Äôs celebrate each step forward together. 
  </p>

  <div style="max-width:600px; margin:40px auto; background:#e6f2ff; padding:20px; border-radius:10px;">
    <h2>üéâ Submit a Volunteer Shoutout</h2>
    <form id="shoutoutForm">
      <label for="name">Your Name:</label>
      <input type="text" id="name" required>

      <label for="role">Volunteer Role:</label>
      <select id="role" required>
        <option value="">-- Select Role --</option>
        <option value="Award Researcher & Eligibility Specialist">Award Researcher & Eligibility Specialist</option>
        <option value="Content & Endorsement Writer">Content & Endorsement Writer</option>
        <option value="Document & Proof Gatherer">Document & Proof Gatherer</option>
        <option value="Submission & Compliance Officer">Submission & Compliance Officer</option>
        <option value="Community Engagement & Promotion Specialist">Community Engagement & Promotion Specialist</option>
      </select>

      <label for="award">Award:</label>
      <select id="award" required>
        <option value="">-- Select Award --</option>
        <option value="Varkey Foundation">Varkey Foundation</option>
        <option value="Ashoks Fellowship">Ashoks Fellowship</option>
        <option value="Yidan Prize">Yidan Prize</option>
      </select>

      <label for="message">Shoutout (200 characters max):</label>
      <textarea id="message" maxlength="200" rows="3" required></textarea>

      <button type="submit">Submit Shoutout</button>
    </form>
  </div>

  <div id="shoutouts"></div>

  <!-- Firebase SDKs -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-app.js";
    import { getFirestore, collection, addDoc, query, orderBy, limit, getDocs, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore.js";

    // Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyBtAcvleEv_PFTyq3AaeJzAR52QnGZCuDc",
      authDomain: "campaign-nominatebaraa.firebaseapp.com",
      projectId: "campaign-nominatebaraa",
      storageBucket: "campaign-nominatebaraa.firebasestorage.app",
      messagingSenderId: "260641916589",
      appId: "1:260641916589:web:b889857299b7d8f1d2e824"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const form = document.getElementById("shoutoutForm");
    const shoutoutsContainer = document.getElementById("shoutouts");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      const name = form.name.value.trim();
      const role = form.role.value.trim();
      const award = form.award.value.trim();
      const message = form.message.value.trim();

      if (!name || !role || !award || !message) {
        alert("Please fill out all required fields.");
        return;
      }

      try {
        await addDoc(collection(db, "shoutouts"), {
          name,
          role,
          award,
          message,
          approved: false,
          timestamp: serverTimestamp()
        });
        alert("Shoutout submitted successfully!");
        form.reset();
        loadShoutouts();
      } catch (error) {
        console.error("Error adding shoutout: ", error);
        alert("Something went wrong. Please try again later.");
      }
    });

    async function loadShoutouts() {
      shoutoutsContainer.innerHTML = "";

      const q = query(collection(db, "shoutouts"), orderBy("timestamp", "desc"), limit(20));

      try {
        const querySnapshot = await getDocs(q);
        if (querySnapshot.empty) {
          shoutoutsContainer.innerHTML = "<p>No shoutouts yet.</p>";
          return;
        }

        querySnapshot.forEach((doc) => {
          const data = doc.data();
          const id = doc.id;
          const shout = document.createElement("div");
          shout.className = "shoutout";
          shout.id = `shoutout-${id}`;

          const time = data.timestamp ? data.timestamp.toDate().toLocaleString() : "No timestamp";

          const shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=https://meryemdaata.github.io/nominate-baraa/volunteershoutout.html#shoutout-${id}`;

          shout.innerHTML = `
            <strong>${data.name}</strong> (${data.role})<br>
            <em>${data.award || "General"}</em><br>
            ${data.message}<br>
            <small>${time}</small><br><br>
            <a 
              href="${shareUrl}" 
              target="_blank" 
              style="display:inline-flex; align-items:center; gap:6px; background: #0A66C2; color: white; padding: 6px 12px; border-radius: 4px; text-decoration: none; font-weight: bold;"
            >
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="white" viewBox="0 0 24 24">
                <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.762 2.239 5 5 5h14c2.762 0 5-2.238 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-10h3v10zm-1.5-11.269c-.966 0-1.75-.784-1.75-1.75s.784-1.75 1.75-1.75 1.75.784 1.75 1.75-.784 1.75-1.75 1.75zm13.5 11.269h-3v-5.604c0-1.337-.027-3.061-1.866-3.061-1.867 0-2.154 1.459-2.154 2.968v5.697h-3v-10h2.881v1.367h.041c.401-.761 1.379-1.563 2.839-1.563 3.037 0 3.6 2.001 3.6 4.6v5.596z"/>
              </svg>
              Share on LinkedIn
            </a>
          `;
          shoutoutsContainer.appendChild(shout);
        });
      } catch (error) {
        console.error("Error fetching shoutouts:", error);
        shoutoutsContainer.innerHTML = "<p>Error loading shoutouts.</p>";
      }
    }

    // Load shoutouts on page load
    loadShoutouts();
  </script>

  <footer style="text-align: center; padding: 20px; color: #002366;">
    &copy; 2025 NominateBaraa Community. Built with heart by volunteers from around the world.
  </footer>  
</body>
</html>
